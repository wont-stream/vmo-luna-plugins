:root {
	--bf-animation-speed: var(--animation-speed, 1);
	--bf-transition-fast: calc(0.2s / var(--bf-animation-speed));
	--bf-transition-normal: calc(0.4s / var(--bf-animation-speed));
	--bf-transition-slow: calc(0.6s / var(--bf-animation-speed));

	--bf-vibrant: var(--vibrant-color, rgba(255, 255, 255, 0.5));
	--bf-vibrant-opacity: var(--vibrant-color-opacity, 1);
	--bf-lyric-color: var(--current-lyric-color, var(--bf-vibrant));
	--bf-text-opacity: var(--text-opacity, 1);
	--bf-shadow-intensity: var(--text-shadow-intensity, 1);

	--bf-border-radius: var(--border-radius, 12px);
	--bf-padding-scale: var(--padding-scale, 1);
	--bf-font-scale: var(--font-size-scale, 1);
	--bf-blur: var(--background-blur, 25px);

	--bf-album-size: clamp(150px, 25vw, 300px);
	--bf-content-padding: calc(
		clamp(1.5rem, 5vw, 3rem) *
		var(--bf-padding-scale)
	);
}

* {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@keyframes bf-fade-in {
	from {
		opacity: 0;
		transform: scale(0.95) translateY(20px);
		filter: blur(10px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
		filter: blur(0);
	}
}

@keyframes bf-shimmer {
	0%,
	100% {
		opacity: 0.5;
	}
	50% {
		opacity: 0.8;
	}
}

@keyframes bf-breathe {
	0%,
	100% {
		transform: scale(1) translateY(0);
		opacity: calc(0.2 * var(--bf-vibrant-opacity));
	}
	50% {
		transform: scale(1.02) translateY(-2px);
		opacity: calc(0.3 * var(--bf-vibrant-opacity));
	}
}

@keyframes bf-float {
	0%,
	100% {
		transform: translateY(0) rotate(0deg);
	}
	33% {
		transform: translateY(-8px) rotate(0.5deg);
	}
	66% {
		transform: translateY(4px) rotate(-0.3deg);
	}
}

@keyframes bf-gradient-shift {
	0%,
	100% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
}

@keyframes bf-spin {
	0% {
		transform: rotate(0deg) scale(1);
	}
	50% {
		transform: rotate(180deg) scale(1.1);
	}
	100% {
		transform: rotate(360deg) scale(1);
	}
}

@keyframes bf-gentle-float {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-10px);
	}
}

@keyframes bf-lyric-slide-in {
	0% {
		opacity: 0;
		transform: translateY(40px) translateZ(-200px) rotateX(20deg) scale(0.8);
		filter: blur(8px);
	}
	60% {
		transform: translateY(-5px) translateZ(-20px) rotateX(2deg) scale(1.02);
	}
	100% {
		opacity: 1;
		transform: translateY(0) translateZ(0) rotateX(0) scale(1);
		filter: blur(0);
	}
}

@keyframes bf-lyric-fade-out {
	from {
		opacity: 1;
		transform: translateY(0) translateZ(0) rotateX(0) scale(1);
	}
	to {
		opacity: 0.6;
		transform: translateY(-20px) translateZ(-100px) rotateX(10deg) scale(0.95);
	}
}

@keyframes bf-current-entrance {
	0% {
		opacity: 0;
		transform: scale(0.8) translateY(30px) translateZ(-50px) rotateX(15deg);
		filter: blur(5px);
	}
	50% {
		transform: scale(1.1) translateY(-10px) translateZ(10px) rotateX(-2deg);
	}
	100% {
		opacity: 1;
		transform: scale(1.05) translateZ(0) rotateX(0);
		filter: blur(0);
	}
}

@keyframes bf-pulse-current {
	0% {
		text-shadow:
			0 0 calc(6px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
			0 0 calc(12px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
			0 0 calc(24px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
		transform: scale(1.05) translateZ(0);
	}
	100% {
		text-shadow:
			0 0 calc(10px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
			0 0 calc(20px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
			0 0 calc(40px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
			0 0 calc(60px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
		transform: scale(1.08) translateY(-2px) translateZ(5px);
	}
}

@keyframes bf-progress-shimmer {
	0% {
		background-position: 0% 50%;
	}
	100% {
		background-position: 200% 50%;
	}
}

@keyframes bf-word-highlight {
	0% {
		transform: scale(1) translateY(0);
		opacity: calc(0.6 * var(--bf-text-opacity));
	}
	30% {
		transform: scale(1.12) translateY(-4px);
		opacity: var(--bf-text-opacity);
	}
	100% {
		transform: scale(1.02) translateY(-1px);
		opacity: calc(0.85 * var(--bf-text-opacity));
	}
}

@keyframes bf-word-pulse {
	0% {
		transform: scale(1) translateY(0);
		opacity: calc(0.7 * var(--bf-text-opacity));
	}
	20% {
		transform: scale(1.15) translateY(-5px);
		opacity: var(--bf-text-opacity);
	}
	100% {
		transform: scale(1.08) translateY(-3px);
		opacity: var(--bf-text-opacity);
	}
}

@keyframes bf-neon-pulse {
	0%,
	100% {
		opacity: calc(0.35 * var(--bf-vibrant-opacity));
	}
	50% {
		opacity: calc(0.55 * var(--bf-vibrant-opacity));
	}
}

@keyframes bf-neon-text-glow {
	0%,
	100% {
		text-shadow:
			0 0 10px var(--bf-vibrant),
			0 0 20px var(--bf-vibrant),
			0 0 40px var(--bf-vibrant),
			0 4px 20px rgba(0, 0, 0, 0.6);
	}
	50% {
		text-shadow:
			0 0 15px var(--bf-vibrant),
			0 0 30px var(--bf-vibrant),
			0 0 60px var(--bf-vibrant),
			0 4px 20px rgba(0, 0, 0, 0.6);
	}
}

.betterFullscreen-player {
	position: relative;
	width: 100vw;
	height: 100vh;
	display: flex;
	flex-direction: column;
	font-family:
		-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
		Cantarell, sans-serif;
	color: var(--wave-color-text-main);
	overflow: hidden;
	background:
		radial-gradient(
			ellipse at 50% 40%,
			rgba(20, 20, 30, 0.9),
			rgba(0, 0, 0, 0.98)
		),
		var(--user-profile-linear-gradient);
	animation: bf-fade-in calc(0.5s / var(--bf-animation-speed)) ease-out;
}

.betterFullscreen-player::before {
	content: "";
	position: absolute;
	inset: 0;
	background-image:
		radial-gradient(
			circle at 20% 80%,
			rgba(255, 255, 255, 0.03) 0%,
			transparent 50%
		),
		radial-gradient(
			circle at 80% 20%,
			rgba(255, 255, 255, 0.02) 0%,
			transparent 50%
		);
	pointer-events: none;
	z-index: 0;
	animation: bf-shimmer calc(15s / var(--bf-animation-speed)) ease-in-out
		infinite;
}

.betterFullscreen-background {
	position: absolute;
	inset: 0;
	z-index: var(--z-index-low, -1);
	animation: bf-float calc(20s / var(--bf-animation-speed)) ease-in-out infinite;
	will-change: transform;
	transform: translateZ(0);
}

.betterFullscreen-background::after {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	background: radial-gradient(
		60% 60% at 25% 35%,
		var(--bf-vibrant) 0%,
		transparent 70%
	);
	opacity: calc(0.2 * var(--bf-vibrant-opacity));
	mix-blend-mode: screen;
	animation: bf-breathe calc(8s / var(--bf-animation-speed)) ease-in-out
		infinite;
	will-change: transform, opacity;
	transform: translateZ(0);
}

.betterFullscreen-bg-image {
	width: 100%;
	height: 100%;
	object-fit: cover;
	filter: blur(var(--bf-blur)) brightness(0.4);
	transform: scale(1.1);
}

.betterFullscreen-overlay {
	position: absolute;
	inset: 0;
	background: linear-gradient(
		135deg,
		rgba(0, 0, 0, 0.6) 0%,
		rgba(0, 0, 0, 0.3) 50%,
		rgba(0, 0, 0, 0.6) 100%
	);
	backdrop-filter: blur(4px);
}

.betterFullscreen-overlay::after {
	content: "";
	position: absolute;
	inset: 0;
	background: radial-gradient(
		ellipse at 50% 55%,
		var(--bf-vibrant) 0%,
		transparent 70%
	);
	opacity: calc(0.2 * var(--bf-vibrant-opacity));
	filter: blur(50px);
	mix-blend-mode: screen;
	pointer-events: none;
}

.betterFullscreen-content {
	position: relative;
	display: flex;
	flex-direction: column;
	height: 100%;
	padding: var(--bf-content-padding);
	gap: var(--bf-content-padding);
	z-index: var(--z-index-high);
}

.betterFullscreen-header {
	display: flex;
	gap: calc(clamp(1.5rem, 4vw, 3rem) * var(--bf-padding-scale));
	align-items: center;
}

.betterFullscreen-album-art {
	position: relative;
	animation: bf-float calc(15s / var(--bf-animation-speed)) ease-in-out infinite;
	animation-delay: calc(-2s / var(--bf-animation-speed));
	will-change: transform;
	transform: translateZ(0);
}

.betterFullscreen-album-art::before {
	content: "";
	position: absolute;
	inset: -20px;
	background: radial-gradient(
		circle at center,
		var(--bf-vibrant) 0%,
		transparent 70%
	);
	opacity: calc(0.4 * var(--bf-vibrant-opacity));
	filter: blur(40px);
	animation: bf-breathe calc(4s / var(--bf-animation-speed)) ease-in-out
		infinite;
	z-index: 0;
	will-change: transform, opacity;
	transform: translateZ(0);
}

.betterFullscreen-album-art img,
.betterFullscreen-album-art video {
	position: relative;
	z-index: 1;
	width: var(--bf-album-size);
	height: var(--bf-album-size);
	border-radius: var(--bf-border-radius);
	object-fit: cover;
	box-shadow:
		0 25px 50px rgba(0, 0, 0, 0.6),
		0 10px 30px rgba(0, 0, 0, 0.4),
		0 0 0 1px rgba(255, 255, 255, 0.1),
		0 0 60px var(--bf-vibrant);
	transition:
		transform var(--bf-transition-normal)
		cubic-bezier(0.175, 0.885, 0.32, 1.275),
		box-shadow var(--bf-transition-normal)
		cubic-bezier(0.175, 0.885, 0.32, 1.275);
	will-change: transform;
	transform: translateZ(0);
	backface-visibility: hidden;
}

.betterFullscreen-album-art:hover img,
.betterFullscreen-album-art:hover video {
	transform: scale(1.08) rotateY(5deg) rotateX(2deg);
	box-shadow:
		0 40px 80px rgba(0, 0, 0, 0.7),
		0 20px 40px rgba(0, 0, 0, 0.5),
		0 0 0 1px rgba(255, 255, 255, 0.2),
		0 0 80px var(--bf-vibrant),
		0 0 120px var(--bf-vibrant);
}

.betterFullscreen-track-info {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: var(--wave-spacing--small);
	min-width: 0;
}

.betterFullscreen-title {
	font-size: calc(clamp(2rem, 5vw, 3.5rem) * var(--bf-font-scale));
	font-weight: var(--wave-font-weight--bold);
	margin: 0;
	line-height: 1.2;
	letter-spacing: -0.02em;
	color: rgba(255, 255, 255, var(--bf-text-opacity));
	text-shadow:
		0 4px 20px rgba(0, 0, 0, 0.6),
		0 2px 10px rgba(0, 0, 0, 0.4),
		0 0 40px var(--bf-vibrant);
	word-wrap: break-word;
	overflow-wrap: break-word;
}

.betterFullscreen-artist {
	font-size: calc(clamp(1.25rem, 3vw, 2rem) * var(--bf-font-scale));
	font-weight: var(--wave-font-weight--demi);
	margin: 0;
	line-height: 1.3;
	letter-spacing: -0.01em;
	color: rgba(255, 255, 255, calc(0.85 * var(--bf-text-opacity)));
	text-shadow:
		0 2px 15px rgba(0, 0, 0, 0.5),
		0 0 30px var(--bf-vibrant);
}

.betterFullscreen-album {
	font-size: calc(clamp(1rem, 2.5vw, 1.5rem) * var(--bf-font-scale));
	font-weight: var(--wave-font-weight--medium);
	margin: 0;
	line-height: 1.4;
	color: rgba(255, 255, 255, calc(0.65 * var(--bf-text-opacity)));
	text-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
}

.betterFullscreen-lyrics-container {
	flex: 1;
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: 0;
	perspective: 800px;
}

.betterFullscreen-lyrics {
	position: relative;
	z-index: 0;
	max-width: min(90%, 80ch);
	width: 100%;
	margin: 0 auto;
	padding: calc(clamp(0.5rem, 2vw, 1rem) * var(--bf-padding-scale));
	text-align: center;
}

.betterFullscreen-lyric {
	font-weight: var(--wave-font-weight--bold, 700);
	line-height: 1.6;
	margin: calc(clamp(1rem, 3vh, 2.5rem) * var(--bf-padding-scale)) 0;
	color: rgba(255, 255, 255, calc(0.5 * var(--bf-text-opacity)));
	word-wrap: break-word;
	overflow-wrap: break-word;
	transition: all var(--bf-transition-slow) cubic-bezier(0.165, 0.84, 0.44, 1);
	will-change: opacity, transform, filter;
	animation: bf-lyric-slide-in calc(0.8s / var(--bf-animation-speed))
		cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}

.betterFullscreen-lyric.previous {
	opacity: calc(0.6 * var(--bf-text-opacity));
	font-size: calc(clamp(1.2rem, 2.5vw, 1.8rem) * var(--bf-font-scale));
	transform: translateY(-20px) translateZ(-100px) rotateX(10deg) scale(0.95);
	animation: bf-lyric-fade-out var(--bf-transition-slow) ease-out both;
}

.betterFullscreen-lyric.current {
	position: relative;
	opacity: var(--bf-text-opacity, 1);
	font-size: calc(clamp(2.25rem, 5.5vw, 3.5rem) * var(--bf-font-scale));
	color: var(--current-lyric-color, var(--vibrant-color, #fff));
	text-shadow:
		0 0 calc(6px * var(--bf-shadow-intensity, 1))
		var(--current-lyric-color, var(--vibrant-color, rgba(255, 255, 255, 0.5))),
		0 0 calc(12px * var(--bf-shadow-intensity, 1))
		var(--current-lyric-color, var(--vibrant-color, rgba(255, 255, 255, 0.3))),
		0 0 calc(24px * var(--bf-shadow-intensity, 1))
		var(--current-lyric-color, var(--vibrant-color, rgba(255, 255, 255, 0.2)));
	transform: scale(1.05) translateZ(0);
	animation:
		bf-current-entrance calc(0.8s / var(--bf-animation-speed))
		cubic-bezier(0.175, 0.885, 0.32, 1.275) both,
		bf-pulse-current calc(3s / var(--bf-animation-speed)) ease-in-out infinite
		alternate calc(0.8s / var(--bf-animation-speed));
}

.betterFullscreen-lyric.next {
	opacity: calc(0.75 * var(--bf-text-opacity));
	font-size: calc(clamp(1.5rem, 3vw, 2rem) * var(--bf-font-scale));
	transform: translateY(20px) translateZ(-50px) rotateX(-5deg) scale(0.98);
	animation: bf-lyric-slide-in var(--bf-transition-slow)
		cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
	animation-delay: calc(0.2s / var(--bf-animation-speed));
}

.betterFullscreen-lyric.upcoming {
	opacity: calc(0.4 * var(--bf-text-opacity));
	font-size: calc(clamp(1rem, 2vw, 1.5rem) * var(--bf-font-scale));
	margin: calc(1rem * var(--bf-padding-scale)) 0;
	transform: translateY(25px) translateZ(-80px) rotateX(-8deg) scale(0.95);
	animation: bf-lyric-slide-in calc(0.5s / var(--bf-animation-speed))
		cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}

.betterFullscreen-lyrics-progress {
	position: absolute;
	bottom: calc(-0.8rem * var(--bf-padding-scale));
	left: 50%;
	transform: translateX(-50%);
	width: min(400px, 90%);
	height: 3px;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 2px;
	overflow: hidden;
	backdrop-filter: blur(10px);
}

.betterFullscreen-lyrics-progress-bar {
	height: 100%;
	background: linear-gradient(
		90deg,
		var(--bf-lyric-color),
		var(--bf-lyric-color),
		var(--bf-lyric-color)
	);
	background-size: 200% 100%;
	box-shadow: 0 0 15px var(--bf-lyric-color);
	transition: width calc(0.1s / var(--bf-animation-speed)) linear;
	will-change: width;
	transform: translateZ(0);
	animation: bf-progress-shimmer calc(2s / var(--bf-animation-speed)) linear
		infinite;
}

.word {
	color: inherit;
	will-change: transform, opacity;
}

.word-previous {
	color: var(--bf-lyric-color);
	text-shadow:
		0 0 calc(5px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 0 calc(10px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
	transform: scale(1.02) translateY(-1px);
	opacity: calc(0.85 * var(--bf-text-opacity));
	animation: bf-word-highlight var(--bf-transition-normal)
		cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.word-active {
	color: var(--bf-lyric-color);
	text-shadow:
		0 0 calc(8px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 0 calc(16px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 0 calc(24px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
	transform: scale(1.08) translateY(-3px);
	opacity: var(--bf-text-opacity);
	animation: bf-word-pulse calc(0.5s / var(--bf-animation-speed))
		cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.char {
	display: inline-block;
	color: inherit;
	white-space: pre-wrap;
	will-change: color, transform, opacity, text-shadow;
	transition:
		color calc(0.5s / var(--bf-animation-speed)) ease-out,
		transform calc(0.5s / var(--bf-animation-speed))
		cubic-bezier(0.2, 0.8, 0.2, 1),
		opacity calc(0.5s / var(--bf-animation-speed)) ease-out,
		text-shadow calc(0.5s / var(--bf-animation-speed)) ease-out;
}

.char.char-connected {
	display: inline;
	white-space: normal;
	transform: none;
	margin: 0;
	padding: 0;
	will-change: color, opacity, text-shadow;
}

.char-previous,
.char-upcoming {
	opacity: calc(0.3 * var(--bf-text-opacity));
	transform: scale(1);
	text-shadow: none;
}

.char-word-active {
	opacity: calc(0.8 * var(--bf-text-opacity));
	transform: scale(1.05);
	text-shadow:
		0 0 calc(3px * var(--bf-shadow-intensity)) var(--char-color),
		0 0 calc(6px * var(--bf-shadow-intensity)) var(--char-color);
}

.char-active {
	position: relative;
	z-index: 1;
	opacity: var(--bf-text-opacity);
	transform: scale(1.15) translateY(-3px);
	text-shadow:
		0 0 calc(5px * var(--bf-shadow-intensity)) var(--char-color),
		0 0 calc(10px * var(--bf-shadow-intensity)) var(--char-color),
		0 0 calc(15px * var(--bf-shadow-intensity)) var(--char-color);
}

.betterFullscreen-loading,
.betterFullscreen-no-lyrics {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	flex: 1;
	gap: 1.5rem;
	font-size: calc(1.5rem * var(--bf-font-scale));
	color: rgba(255, 255, 255, calc(0.75 * var(--bf-text-opacity)));
	text-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
	animation: bf-fade-in var(--bf-transition-slow) ease-out;
}

.betterFullscreen-loading::after {
	content: "";
	width: 48px;
	height: 48px;
	border: 4px solid rgba(255, 255, 255, 0.15);
	border-top-color: var(--bf-lyric-color);
	border-right-color: var(--bf-lyric-color);
	border-radius: 50%;
	box-shadow: 0 0 30px var(--bf-lyric-color);
	animation: bf-spin calc(1s / var(--bf-animation-speed))
		cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
	will-change: transform;
	transform: translateZ(0);
}

.betterFullscreen-no-lyrics-icon {
	font-size: calc(5rem * var(--bf-font-scale));
	opacity: calc(0.6 * var(--bf-text-opacity));
	text-shadow: 0 0 40px var(--bf-vibrant);
	animation: bf-gentle-float calc(6s / var(--bf-animation-speed)) ease-in-out
		infinite;
	will-change: transform;
	transform: translateZ(0);
}

.betterFullscreen-retry-button {
	margin-top: 1rem;
	padding: 0.5rem 1.5rem;
	border: 1px solid rgba(255, 255, 255, 0.2);
	border-radius: 8px;
	background: rgba(255, 255, 255, 0.1);
	color: rgba(255, 255, 255, 0.9);
	font-size: 1rem;
	cursor: pointer;
	backdrop-filter: blur(5px);
	transition: all var(--bf-transition-fast) ease;
}

.betterFullscreen-retry-button:hover {
	background: rgba(255, 255, 255, 0.2);
	transform: scale(1.05);
}

.betterFullscreen-retry-button:active {
	transform: scale(0.95);
}

@media (max-width: 1024px) {
	.betterFullscreen-header {
		flex-direction: column;
		text-align: center;
	}
}

@media (max-width: 768px) {
	.betterFullscreen-content {
		padding: calc(clamp(1rem, 4vw, 2rem) * var(--bf-padding-scale));
		gap: calc(clamp(1rem, 4vw, 2rem) * var(--bf-padding-scale));
	}

	.betterFullscreen-lyric.previous {
		transform: translateY(-15px) translateZ(-80px) rotateX(8deg);
	}

	.betterFullscreen-lyric.next {
		transform: translateY(15px) translateZ(-40px) rotateX(-4deg);
	}
}

.betterFullscreen-player[data-theme="minimal"] {
	background: linear-gradient(
		180deg,
		rgba(10, 10, 15, 0.95),
		rgba(0, 0, 0, 0.98)
	);
}

.betterFullscreen-player[data-theme="minimal"]::before {
	display: none;
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-background {
	animation: none;
	transform: none;
}

.betterFullscreen-player[data-theme="minimal"]
	.betterFullscreen-background::after {
	opacity: calc(0.1 * var(--bf-vibrant-opacity));
	animation: none;
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-album-art {
	animation: none;
	transform: none;
}

.betterFullscreen-player[data-theme="minimal"]
	.betterFullscreen-album-art::before {
	display: none;
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-album-art img,
.betterFullscreen-player[data-theme="minimal"]
	.betterFullscreen-album-art
	video {
	box-shadow:
		0 10px 30px rgba(0, 0, 0, 0.4),
		0 0 0 1px rgba(255, 255, 255, 0.05);
	border-radius: calc(var(--bf-border-radius) * 0.5);
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-title,
.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-artist,
.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-album {
	text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-lyric {
	animation: none;
	transition: opacity calc(0.3s / var(--bf-animation-speed)) ease;
}

.betterFullscreen-player[data-theme="minimal"] .betterFullscreen-lyric.current {
	animation: none;
	background-image: none;
	-webkit-text-fill-color: currentColor;
	text-shadow: 0 0 calc(3px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
}

.betterFullscreen-player[data-theme="cinematic"] {
	background: #000;
}

.betterFullscreen-player[data-theme="cinematic"]::before,
.betterFullscreen-player[data-theme="cinematic"]::after {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	height: 10vh;
	z-index: 10;
	pointer-events: none;
}

.betterFullscreen-player[data-theme="cinematic"]::before {
	top: 0;
	background: linear-gradient(to bottom, rgba(0, 0, 0, 0.95), transparent);
}

.betterFullscreen-player[data-theme="cinematic"]::after {
	bottom: 0;
	background: linear-gradient(to top, rgba(0, 0, 0, 0.95), transparent);
}

.betterFullscreen-player[data-theme="cinematic"] .betterFullscreen-content {
	padding: calc(clamp(3rem, 8vw, 5rem) * var(--bf-padding-scale))
		calc(clamp(2rem, 6vw, 4rem) * var(--bf-padding-scale));
}

.betterFullscreen-player[data-theme="cinematic"] .betterFullscreen-header {
	flex-direction: row;
	align-items: flex-start;
	gap: calc(clamp(2rem, 5vw, 4rem) * var(--bf-padding-scale));
}

.betterFullscreen-player[data-theme="cinematic"]
	.betterFullscreen-album-art
	img,
.betterFullscreen-player[data-theme="cinematic"]
	.betterFullscreen-album-art
	video {
	width: clamp(180px, 28vw, 350px);
	height: clamp(180px, 28vw, 350px);
	border-radius: calc(var(--bf-border-radius) * 0.3);
	box-shadow:
		0 30px 60px rgba(0, 0, 0, 0.8),
		0 0 0 1px rgba(255, 255, 255, 0.05);
}

.betterFullscreen-player[data-theme="cinematic"]
	.betterFullscreen-lyrics-container {
	perspective: 1200px;
}

.betterFullscreen-player[data-theme="cinematic"]
	.betterFullscreen-lyric.current {
	font-size: calc(clamp(2.5rem, 6vw, 4rem) * var(--bf-font-scale));
	font-weight: 900;
	letter-spacing: 0.05em;
	text-transform: uppercase;
}

.betterFullscreen-player[data-theme="neon"] {
	background:
		radial-gradient(
			ellipse at 50% 40%,
			rgba(15, 5, 25, 0.9),
			rgba(5, 0, 15, 0.98)
		),
		linear-gradient(135deg, #1a0033 0%, #000 100%);
}

.betterFullscreen-player[data-theme="neon"]::before {
	background-image:
		radial-gradient(
			circle at 20% 80%,
			rgba(255, 0, 255, 0.08) 0%,
			transparent 50%
		),
		radial-gradient(
			circle at 80% 20%,
			rgba(0, 255, 255, 0.06) 0%,
			transparent 50%
		);
	animation: bf-shimmer calc(10s / var(--bf-animation-speed)) ease-in-out
		infinite;
}

.betterFullscreen-player[data-theme="neon"]
	.betterFullscreen-background::after {
	opacity: calc(0.35 * var(--bf-vibrant-opacity));
	filter: blur(60px);
	animation:
		bf-breathe calc(4s / var(--bf-animation-speed)) ease-in-out infinite,
		bf-neon-pulse calc(2s / var(--bf-animation-speed)) ease-in-out infinite;
}

.betterFullscreen-player[data-theme="neon"] .betterFullscreen-album-art img,
.betterFullscreen-player[data-theme="neon"] .betterFullscreen-album-art video {
	border-radius: calc(var(--bf-border-radius) * 1.5);
	box-shadow:
		0 25px 50px rgba(0, 0, 0, 0.7),
		0 0 0 2px rgba(255, 255, 255, 0.1),
		0 0 80px var(--bf-vibrant),
		0 0 120px var(--bf-vibrant),
		inset 0 0 60px rgba(0, 0, 0, 0.3);
}

.betterFullscreen-player[data-theme="neon"] .betterFullscreen-title {
	text-shadow:
		0 0 10px var(--bf-vibrant),
		0 0 20px var(--bf-vibrant),
		0 0 40px var(--bf-vibrant),
		0 4px 20px rgba(0, 0, 0, 0.6);
	animation: bf-neon-text-glow calc(3s / var(--bf-animation-speed)) ease-in-out
		infinite;
}

.betterFullscreen-player[data-theme="neon"] .betterFullscreen-lyric.current {
	text-shadow:
		0 0 calc(15px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 0 calc(30px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 0 calc(50px * var(--bf-shadow-intensity)) var(--bf-lyric-color);
}

.betterFullscreen-player[data-theme="glass"] {
	background: linear-gradient(
		135deg,
		rgba(255, 255, 255, 0.05),
		rgba(255, 255, 255, 0.02)
	);
	backdrop-filter: blur(20px);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-overlay {
	background: linear-gradient(
		135deg,
		rgba(255, 255, 255, 0.08) 0%,
		rgba(255, 255, 255, 0.03) 50%,
		rgba(255, 255, 255, 0.08) 100%
	);
	backdrop-filter: blur(30px);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-header {
	background: rgba(255, 255, 255, 0.05);
	backdrop-filter: blur(20px);
	border-radius: calc(var(--bf-border-radius) * 2);
	padding: calc(clamp(1.5rem, 4vw, 3rem) * var(--bf-padding-scale));
	border: 1px solid rgba(255, 255, 255, 0.1);
	box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-album-art img,
.betterFullscreen-player[data-theme="glass"] .betterFullscreen-album-art video {
	border-radius: calc(var(--bf-border-radius) * 1.2);
	backdrop-filter: blur(10px);
	box-shadow:
		0 20px 40px rgba(0, 0, 0, 0.3),
		0 0 0 1px rgba(255, 255, 255, 0.2),
		inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-lyrics {
	background: rgba(255, 255, 255, 0.05);
	backdrop-filter: blur(30px);
	border-radius: calc(var(--bf-border-radius) * 2);
	padding: calc(clamp(2rem, 5vw, 4rem) * var(--bf-padding-scale));
	border: 1px solid rgba(255, 255, 255, 0.1);
	box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-lyric {
	text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.betterFullscreen-player[data-theme="glass"] .betterFullscreen-lyric.current {
	text-shadow:
		0 0 calc(8px * var(--bf-shadow-intensity)) var(--bf-lyric-color),
		0 2px 15px rgba(0, 0, 0, 0.4);
}

.betterFullscreen-player[data-theme="retro"] {
	background:
		radial-gradient(
			ellipse at 50% 40%,
			rgba(40, 30, 20, 0.9),
			rgba(20, 15, 10, 0.98)
		),
		linear-gradient(135deg, #2a1810 0%, #0a0505 100%);
	font-family: Georgia, "Times New Roman", serif;
}

.betterFullscreen-player[data-theme="retro"]::before {
	background-image: repeating-linear-gradient(
		0deg,
		rgba(255, 255, 255, 0.02) 0px,
		transparent 1px,
		transparent 2px,
		rgba(255, 255, 255, 0.02) 3px
	);
	animation: none;
}

.betterFullscreen-player[data-theme="retro"]
	.betterFullscreen-background::after {
	background: radial-gradient(
		60% 60% at 50% 50%,
		rgba(255, 200, 100, 0.15) 0%,
		transparent 70%
	);
	mix-blend-mode: overlay;
}

.betterFullscreen-player[data-theme="retro"]
	.betterFullscreen-album-art::before {
	background: radial-gradient(
		circle at center,
		rgba(255, 200, 100, 0.2) 0%,
		transparent 70%
	);
}

.betterFullscreen-player[data-theme="retro"]
	.betterFullscreen-album-art::after {
	content: "";
	position: absolute;
	inset: 0;
	background:
		radial-gradient(
			circle at center,
			transparent 25%,
			rgba(0, 0, 0, 0.3) 25.5%,
			transparent 26%
		),
		radial-gradient(circle at center, transparent 45%, rgba(0, 0, 0, 0.1) 45%);
	border-radius: 50%;
	z-index: 2;
	pointer-events: none;
	opacity: 0.6;
}

.betterFullscreen-player[data-theme="retro"] .betterFullscreen-album-art img,
.betterFullscreen-player[data-theme="retro"] .betterFullscreen-album-art video {
	border-radius: 50%;
	filter: sepia(0.15) contrast(1.1);
	box-shadow:
		0 30px 60px rgba(0, 0, 0, 0.6),
		0 0 0 3px rgba(40, 30, 20, 0.8),
		0 0 0 6px rgba(100, 80, 60, 0.5),
		inset 0 0 30px rgba(0, 0, 0, 0.4);
}

.betterFullscreen-player[data-theme="retro"] .betterFullscreen-title {
	font-family: Georgia, "Times New Roman", serif;
	letter-spacing: 0.02em;
	text-shadow:
		2px 2px 0 rgba(0, 0, 0, 0.5),
		0 0 30px rgba(255, 200, 100, 0.3);
}

.betterFullscreen-player[data-theme="retro"] .betterFullscreen-artist,
.betterFullscreen-player[data-theme="retro"] .betterFullscreen-album {
	font-family: Georgia, "Times New Roman", serif;
	letter-spacing: 0.05em;
}

.betterFullscreen-player[data-theme="retro"] .betterFullscreen-lyric {
	font-family: Georgia, "Times New Roman", serif;
	letter-spacing: 0.02em;
}

.betterFullscreen-player[data-theme="retro"] .betterFullscreen-lyric.current {
	color: rgba(255, 240, 220, calc(0.95 * var(--bf-text-opacity)));
	text-shadow:
		0 0 calc(8px * var(--bf-shadow-intensity)) rgba(255, 200, 100, 0.6),
		0 0 calc(16px * var(--bf-shadow-intensity)) rgba(255, 200, 100, 0.4),
		2px 2px 4px rgba(0, 0, 0, 0.5);
	background-image: linear-gradient(
		90deg,
		rgba(255, 220, 150, 0.9) 0%,
		rgba(255, 240, 220, 0.95) 50%,
		rgba(255, 220, 150, 0.9) 100%
	);
}
